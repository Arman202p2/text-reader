<!DOCTYPE html>
<html>
<body>
    <h2>OCR to Speech Web App</h2>
    <input type="file" id="file" accept="image/*">
    <button onclick="upload()">Convert</button>
    <audio id="audio" controls style="display:none"></audio>
    <script>
    async function upload() {
        let fileInput = document.getElementById('file');
        if (!fileInput.files.length) { alert("Select an image"); return; }
        let form = new FormData();
        form.append('file', fileInput.files[0]);
        let res = await fetch('http://localhost:8000/ocr-tts/', { method: 'POST', body: form });
        if (res.ok) {
            let audio = document.getElementById('audio');
            audio.src = URL.createObjectURL(await res.blob());
            audio.style.display = "block";
        } else {
            alert("No text found or server error!");
        }
    }
    </script>
</body>
</html>
